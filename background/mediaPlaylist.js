(function(a,e,t){var l=0;var i=[];function r(a){return a.constructor.toString().indexOf("Array")>-1}class s{constructor(){this.CallPlayViaJS=false}Size(){return i.length}CurrentPos(){return l}IsMediaPageMatch(a,e){return e<this.Size()&&i[e].Src===a}AddMedia(a){i.push(a)}RemoveMedia(a){if(a>=0&&a<i.length){i.splice(a,1)}}Clear(){i=[];l=0}CreateListFromJSON(a){if(a.playlist&&a.playlist.length){this.Clear();for(var t=0;t<a.playlist.length;t++){var l=a.playlist[t].url;var i=a.playlist[t].title;if(i){i=i.replace("\n","")}var r=a.playlist[t].image;var s=a.playlist[t].source_type;var n=new e(l,i,r,s);this.AddMedia(n)}}}Insert(a){if(a.playlist&&a.playlist.length){this.RemoveMedia(l);var t=[];for(var r=0;r<a.playlist.length;r++){var s=a.playlist[r].url;var n=a.playlist[r].title;if(n){n=n.replace("\n","")}var y=a.playlist[r].image;var p=a.playlist[r].source_type;var h=new e(s,n,y,p);t.push(h)}i.splice(l,0,t)}}HasNext(){return i.length>0&&l+1<i.length}HasPrev(){return i.length>0&&l>0}Play(){var a=i[l];this.CallPlayViaJS=true;chrome.runtime.sendMessage({uiAction:"playVisJS",src:a.Src,title:a.Title,type:a.Type,image:a.Image})}PlayNext(){if(this.HasNext()){l++;this.Play()}}PlayPrev(){if(this.HasPrev()){l--;this.Play()}}}a["Playlist"]=s})(window["ESHARECMCLIENTBG"]["background"],window["ESHARECMCLIENTBG"]["background"]["MediaObj"],window["ESHARECMCLIENTBG"]["Util"]);